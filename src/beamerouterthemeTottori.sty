\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{beamerouterthemeTottori}[2016/07/04 Tottori outer theme]

\mode<presentation>

\newlength{\margin}
\setlength{\margin}{1em}

\setbeamertemplate{itemize item}{\raisebox{0.2ex}{\scriptsize\donotcoloroutermaths$\blacksquare$}}
\setbeamertemplate{itemize subitem}{\raisebox{0.2ex}{\scriptsize\donotcoloroutermaths$\bullet$}}
\setbeamertemplate{itemize subsubitem}{\raisebox{0.2ex}{\scriptsize\donotcoloroutermaths$\blacktriangleright$}}
\setbeamertemplate{enumerate item}{\raisebox{0.2ex}{\usebeamercolor[bg]{item projected}{\colorbox{bg}{\color{fg}\scriptsize\insertenumlabel}}}}
\setbeamertemplate{enumerate subitem}{\raisebox{0.2ex}{\usebeamercolor[bg]{item projected}{\colorbox{bg}{\color{fg}\tiny\insertsubenumlabel}}}}
\setbeamertemplate{enumerate subsubitem}{\raisebox{0.2ex}{\usebeamercolor[bg]{item projected}{\colorbox{bg}{\color{fg}\tiny\insertsubsubenumlabel}}}}

\settowidth{\leftmargini}{\usebeamertemplate{itemize/enumerate item}}
\addtolength{\leftmargini}{1.5\margin}
\settowidth{\leftmarginii}{\usebeamertemplate{itemize/enumerate subitem}}
\addtolength{\leftmarginii}{\margin}
\settowidth{\leftmarginiii}{\usebeamertemplate{itemize/enumerate subitem}}
\addtolength{\leftmarginiii}{\margin}

\useoutertheme{default}
\setbeamersize{text margin left=\margin, text margin right=\margin}

\defbeamertemplate*{headline}{Tottori}{}

\defbeamertemplate*{frametitle}{Tottori}{%
    \vskip-0.5ex
    \begin{beamercolorbox}[wd=\paperwidth,ht=3.5ex,left,leftskip=0.2em]{frametitle}
        {\usebeamerfont{frametitle} \strut\insertframetitle\strut}\hskip0.2em{\usebeamerfont{framesubtitle} \strut\insertframesubtitle\strut}%
    \end{beamercolorbox}
}

\defbeamertemplate*{footline}{Tottori}{%
    \usebeamerfont{footline}%
    \begin{beamercolorbox}[wd=\paperwidth,ht=2.25ex,dp=1ex,right,rightskip=0.5em]{structure}%
        \usebeamercolor[fg]{structure}%
        \ifbeamer@framenumber
        {\usebeamerfont{framenumber}\insertframenumber{}}%~/~\inserttotalframenumber
        \fi
    \end{beamercolorbox}%
}

\defbeamertemplate*{background}{Tottori}{}
\defbeamertemplate*{sidebar right}{Tottori}{}

\defbeamertemplate*{background canvas}{Tottori}{%
    \ifnum\c@framenumber=1%
    \begin{beamercolorbox}[wd=1.2\paperwidth, ht=\paperheight]{title}
    \end{beamercolorbox}
    \else%
    \ifnum\c@framenumber=\inserttotalframenumber%
    \else%
    \fi%
    \fi%
}

\mode<all>
